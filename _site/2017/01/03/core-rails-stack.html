<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Core Rails Gem Stack | Bat Country Coding</title>

    <link rel="stylesheet" href="/assets/css/style.css?v=c21e2a25245b0f7d5e8587540207c27553c39d9d">
    <meta name="viewport" content="width=device-width">
    <link href="https://fonts.googleapis.com/css?family=Inconsolata|Oswald|Special+Elite" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link rel="shortcut icon" href="http://batcountrycoding.com/favicon.ico" type="image/x-icon">
    <link rel="icon" href="http://batcountrycoding.com/favicon_ani.ico" type="image/x-icon">
    <meta property="og:image" content="http://localhost:4000/assets/images/batcountry1.jpg" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="631" />
<meta property="og:image:height" content="298" />
<meta property="og:title" content="Core Rails Gem Stack" />
<meta property="og:description" content="Setting up a new Rails project requires first putting in place all the core Gems and plugins you like to use. After years of performing this task, I’ve settled on a set for Rails 5 that “just works” for me. One of the main goals is using Gems which reduce the bloat of Models and Controllers, and which generally make life easier so I can focus on what I’m building instead of wrangling code. The..." />
<link rel="image_src" href="http://localhost:4000/assets/images/batcountry1.jpg" />

  </head>
  <body>
    <div class="wrapper">

      <!--
@Author: msmiller
@Date:   2019-08-15 15:14:12
@Last Modified by:   msmiller
@Last Modified time: 2019-08-15 15:53:52

Copyright (c) 2017-2018 Sharp Stone Codewerks / Mark S. Miller
-->

<header style="border-right: 1px solid #ddd;">
  <center><a href="http://localhost:4000"><img src="/assets/images/batcountry1.jpg"></a></center>
  <h1 id="sitename"><a href="http://localhost:4000">Bat Country Coding</a></h1>
  <h1 id="sitedesc">A Technology Blog<span class="blinking-cursor">|</span></h1>
  <hr>
  <p class="view"><img src="/assets/images/chevron.png"> <a href="/posts.html">All Posts</a></p>
  <hr>
  <p class="view"><img src="/assets/images/chevron.png"> <a href="http://sharpstonecodewerks.com" target="_away">Sharp Stone Codewerks</a></p>
  <p class="view"><img src="/assets/images/chevron.png"> <a href="http://www.abstretta.com" target="_away">Abstretta.com</a></p>
  <p class="view"><img src="/assets/images/chevron.png"> <a href="http://www.bibliogrify.com" target="_away">Bibliogrify.com</a></p>
  <hr>
  <p class="view"><img src="/assets/images/chevron.png"> <a href="https://github.com/msmiller" target="_away">Github</a></p>
  <p class="view"><img src="/assets/images/chevron.png"> <a href="https://www.linkedin.com/in/msmiller" target="_away">LinkedIn</a></p>

  

  

  
</header>

      <section>

        <h1>Core Rails Gem Stack</h1>
        <p class="date">January 03, 2017</p>
        <div class="content"><p>Setting up a new Rails project requires first putting in place all the core Gems and plugins you like to use. After years
of performing this task, I’ve settled on a set for Rails 5 that “just works” for me. One of the main goals is using Gems
which reduce the bloat of Models and Controllers, and which generally make life easier so I can focus on what I’m building
instead of wrangling code. The Cells, ActiveInteractions, and Draper gems specifically fall into this category - they allow
a lot of code that would otherwise be stuck in Models, Controllers, or Views to be broken out into independent modules.</p>

<h2 id="cells">cells</h2>

<p>Code re-use is a good thing. But when you start trying to do this in your Views, it can lead to a tangled,
horrific mess. Conditionals and calculated values strewn all about. This is where Cells comes in - it
essentially creates a Model wrapper around specific views. So your “menu bar” no longer is just a partial,
it’s now an actual Model with state and methods and validation. The Cell code combines a model and the view as
well, so everything’s kept together.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># The Cell Model</span>
<span class="k">class</span> <span class="nc">CommentCell</span> <span class="o">&lt;</span> <span class="no">Cell</span><span class="o">::</span><span class="no">ViewModel</span>
  <span class="n">property</span> <span class="ss">:body</span>
  <span class="n">property</span> <span class="ss">:author</span>

  <span class="k">def</span> <span class="nf">show</span>
    <span class="n">render</span>
  <span class="k">end</span>

<span class="kp">private</span>
  <span class="k">def</span> <span class="nf">author_link</span>
    <span class="n">link_to</span> <span class="s2">"</span><span class="si">#{</span><span class="n">author</span><span class="p">.</span><span class="nf">email</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="n">author</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="c1"># The 'show' Cell View</span>

<span class="o">&lt;</span><span class="n">h3</span><span class="o">&gt;</span><span class="no">New</span> <span class="no">Comment</span><span class="o">&lt;</span><span class="sr">/h3&gt;
  &lt;%= body %&gt;

By &lt;%= author_link %&gt;
</span></code></pre></div></div>

<p><strong>Get It:</strong> <a href="https://github.com/trailblazer/cells">cells on Github</a></p>

<h2 id="active_interaction">active_interaction</h2>

<p>Active Interaction is a way to split out business logic from your Models and Controllers. Any time I have code
that’s going to work on more than one Model class, or where the operation will take more than 20 lines, I like
to spin up an ActiveInteraction so that the logic is isolated and doesn’t clog up my Models and Controllers.
ActiveInteractions have validation so this is also another firewall against passing bad data into the bowels of
your system</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#### define the ActiveInteraction ...</span>

<span class="nb">require</span> <span class="s1">'active_interaction'</span>

<span class="k">class</span> <span class="nc">Square</span> <span class="o">&lt;</span> <span class="no">ActiveInteraction</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">float</span> <span class="ss">:x</span>

  <span class="k">def</span> <span class="nf">execute</span>
    <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="c1">#### using the ActiveInteraction ...</span>

<span class="n">outcome</span> <span class="o">=</span> <span class="no">Square</span><span class="p">.</span><span class="nf">run</span><span class="p">(</span><span class="ss">x: </span><span class="s1">'two point one'</span><span class="p">)</span>
<span class="n">outcome</span><span class="p">.</span><span class="nf">valid?</span>
<span class="c1"># =&gt; nil</span>
<span class="n">outcome</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">messages</span>
<span class="c1"># =&gt; {:x=&gt;["is not a valid float"]}</span>

<span class="n">outcome</span> <span class="o">=</span> <span class="no">Square</span><span class="p">.</span><span class="nf">run</span><span class="p">(</span><span class="ss">x: </span><span class="mf">2.1</span><span class="p">)</span>
<span class="n">outcome</span><span class="p">.</span><span class="nf">valid?</span>
<span class="c1"># =&gt; true</span>
<span class="n">outcome</span><span class="p">.</span><span class="nf">result</span>
<span class="c1"># =&gt; 4.41</span>
</code></pre></div></div>

<p>What you can also do is organize your ActiveInteractions into subfolders that either relate to
Models or abstract concepts (like ‘send_emails’).</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># .../config/application.rb
config.autoload_paths += Dir.glob("#{config.root}/app/interactions/*")
</code></pre></div></div>

<p><strong>Get It:</strong> <a href="https://github.com/orgsync/active_interaction">active_interaction on Github</a></p>

<p><strong>Learn More:</strong> <a href="http://devblog.orgsync.com/active_interaction/">http://devblog.orgsync.com/active_interaction/</a></p>

<h2 id="draper">draper</h2>

<p>Draper lets you move all your view-centric methods out of Models to keep them smaller and lighter. Why do you want this
when Rails already provides Helpers? One reason is that Helpers are more or less bound to ActionView. So if you’re
kicking data out over JSON, they may not be as helpful. It also allows you to make your Rails app more of an object
broker in that the back-end has control over representation without getting page rendering into the mix.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Decorator example</span>
<span class="k">class</span> <span class="nc">ArticleDecorator</span> <span class="o">&lt;</span> <span class="no">Draper</span><span class="o">::</span><span class="no">Decorator</span>
  <span class="n">delegate_all</span>

  <span class="k">def</span> <span class="nf">publication_status</span>
    <span class="k">if</span> <span class="n">published?</span>
      <span class="s2">"Published at </span><span class="si">#{</span><span class="n">published_at</span><span class="si">}</span><span class="s2">"</span>
    <span class="k">else</span>
      <span class="s2">"Unpublished"</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">published_at</span>
    <span class="n">object</span><span class="p">.</span><span class="nf">published_at</span><span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s2">"%A, %B %e"</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Using a decorator:</span>
<span class="vi">@articles</span> <span class="o">=</span> <span class="no">Article</span><span class="p">.</span><span class="nf">popular</span><span class="p">.</span><span class="nf">decorate</span>
</code></pre></div></div>

<p><strong>Get It:</strong> <a href="https://github.com/drapergem/draper">draper on Github</a></p>

<h2 id="pundit">pundit</h2>

<p>There are two main go-to ACL Gems, Pundit and CanCan. I like Pundit. Rather than put all the ACL rules into
one file like CanCan does, Pundit has per-Model-class policies, as well as the concept of scopes. It’s a little
more work at first to get going with Pundit because it does have multiple files (it’s always quicker to hack
one big file, right?), but the end result is better and more maintainable.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">PostPolicy</span>
  <span class="nb">attr_reader</span> <span class="ss">:user</span><span class="p">,</span> <span class="ss">:post</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">post</span><span class="p">)</span>
    <span class="vi">@user</span> <span class="o">=</span> <span class="n">user</span>
    <span class="vi">@post</span> <span class="o">=</span> <span class="n">post</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">update?</span>
    <span class="n">user</span><span class="p">.</span><span class="nf">admin?</span> <span class="n">or</span> <span class="n">not</span> <span class="n">post</span><span class="p">.</span><span class="nf">published?</span>
  <span class="k">end</span>
</code></pre></div></div>

<p><strong>Get It:</strong> <a href="https://github.com/elabs/pundit">pundit on Github</a></p>

<h2 id="devise">devise</h2>

<p>Odds are whatever you’re coding will require users to create accounts and log in. Devise is pretty much the standard
Gem for doing this. You can also generate the views into your source tree so you can customize account management.
There’s plenty of options and plugins. There’s enough written about Devise that there’s no need to repeat it all here.</p>

<p><strong>Get It:</strong> <a href="https://github.com/plataformatec/devise">devise on Github</a></p>

<h2 id="rolify">rolify</h2>

<p>So you’re writing your code and there’s a part where you only want Admin’s to get at. Or maybe you want to
block guest Users from seeing certain features. Sure, you can add flags to the User record to say who’s an
Admin and so forth. But what you really want is the concept of Roles. What’s cool about Rolify is the concept
of scopes. For instance, you can make a User be a ‘moderator’ for all Forums, one Forum, or one Post.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># To define a global role:</span>
<span class="n">user</span> <span class="o">=</span> <span class="no">User</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">user</span><span class="p">.</span><span class="nf">add_role</span> <span class="ss">:admin</span>

<span class="c1"># To define a role scoped to a resource instance:</span>
<span class="n">user</span> <span class="o">=</span> <span class="no">User</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">user</span><span class="p">.</span><span class="nf">add_role</span> <span class="ss">:moderator</span><span class="p">,</span> <span class="no">Forum</span><span class="p">.</span><span class="nf">first</span>

<span class="c1"># To define a role scoped to a resource class:</span>
<span class="n">user</span> <span class="o">=</span> <span class="no">User</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">user</span><span class="p">.</span><span class="nf">add_role</span> <span class="ss">:moderator</span><span class="p">,</span> <span class="no">Forum</span>

<span class="c1"># Remove role:</span>
<span class="n">user</span> <span class="o">=</span> <span class="no">User</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">user</span><span class="p">.</span><span class="nf">remove_role</span> <span class="ss">:moderator</span>
</code></pre></div></div>

<p><strong>Get It:</strong> <a href="https://github.com/RolifyCommunity/rolify">rolify on Github</a></p>

<h2 id="semantic-ui-sass">semantic-ui-sass</h2>

<p>Most people seem to have gravitated to either the Bootstrap or Foundation UI frameworks. These are both great,
mature products which take a “mobile first” perspective. The problem I kept having is getting them to work
with Rails. There were frequent dependency clashes with SASS and Compass, not to mention issues with the
Javascript components and Turbolinks.</p>

<p>Semantic UI is very stable, looks great, and installs without issue. It’s not a “one-line drop-in” like the
others. You need to wire up JavaScript for various classes to work. The other toolkits provide an “all-in-one”
JavaScript function that runs all the components … which is “easier” but also a lot less transparent and
prone to conflicts.</p>

<p><strong>Get It:</strong> <a href="https://github.com/doabit/semantic-ui-sass">semantic-ui-sass on Github</a></p>

<p><strong>Learn More:</strong> <a href="http://semantic-ui.com/">http://semantic-ui.com/</a></p>

<h2 id="settingslogic">settingslogic</h2>

<p>SettingsLogic is like wrapping a Model around a loaded YAML configuration file. There are so many cases where you have data that’s
either static or changes very seldomly - but you want more than just a table of values loaded from YAML. You want to be able
to condition the settings for use in the system, or make decisions before returning a value. This is where SettingsLogic
is so handy. I use it for things like billing plans (which rarely change) or branding settings (where I want to condition the
setting value for rendering).</p>

<h5 id="1-define-the-model">1. Define the Model</h5>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Settings</span> <span class="o">&lt;</span> <span class="no">Settingslogic</span>
  <span class="n">source</span> <span class="s2">"</span><span class="si">#{</span><span class="no">Rails</span><span class="p">.</span><span class="nf">root</span><span class="si">}</span><span class="s2">/config/application.yml"</span>
  <span class="n">namespace</span> <span class="no">Rails</span><span class="p">.</span><span class="nf">env</span>
<span class="k">end</span>
</code></pre></div></div>

<h5 id="2-define-the-settings">2. Define the Settings</h5>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># config/application.yml</span>
<span class="ss">defaults: </span><span class="o">&amp;</span><span class="n">defaults</span>
  <span class="ss">cool:
    saweet: </span><span class="n">nested</span> <span class="n">settings</span>
  <span class="ss">neat_setting: </span><span class="mi">24</span>
  <span class="ss">awesome_setting: </span><span class="o">&lt;</span><span class="sx">%= "Did you know 5 + 5 =</span> <span class="c1">#{5 + 5}?" %&gt;</span>

<span class="ss">development:
  </span><span class="o">&lt;&lt;</span><span class="p">:</span> <span class="o">*</span><span class="n">defaults</span>
  <span class="ss">neat_setting: </span><span class="mi">800</span>

<span class="ss">test:
  </span><span class="o">&lt;&lt;</span><span class="p">:</span> <span class="o">*</span><span class="n">defaults</span>

<span class="ss">production:
  </span><span class="o">&lt;&lt;</span><span class="p">:</span> <span class="o">*</span><span class="n">defaults</span>
</code></pre></div></div>

<h5 id="3-use-the-model">3. Use the Model</h5>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;</span> <span class="no">Rails</span><span class="p">.</span><span class="nf">env</span>
<span class="o">=&gt;</span> <span class="s2">"development"</span>

<span class="o">&gt;&gt;</span> <span class="no">Settings</span><span class="p">.</span><span class="nf">cool</span>
<span class="o">=&gt;</span> <span class="s2">"#&lt;Settingslogic::Settings ... &gt;"</span>

<span class="o">&gt;&gt;</span> <span class="no">Settings</span><span class="p">.</span><span class="nf">cool</span><span class="p">.</span><span class="nf">saweet</span>
<span class="o">=&gt;</span> <span class="s2">"nested settings"</span>

<span class="o">&gt;&gt;</span> <span class="no">Settings</span><span class="p">.</span><span class="nf">neat_setting</span>
<span class="o">=&gt;</span> <span class="mi">800</span>

<span class="o">&gt;&gt;</span> <span class="no">Settings</span><span class="p">.</span><span class="nf">awesome_setting</span>
<span class="o">=&gt;</span> <span class="s2">"Did you know 5 + 5 = 10?"</span>
</code></pre></div></div>

<p><strong>Get It:</strong> <a href="https://github.com/binarylogic/settingslogic">settingslogic on Github</a></p>

<h2 id="kaminari">kaminari</h2>

<p>Kaminari is a really nice pagination gem. Their Github page explains everything pretty well. This gem has plenty of
options and you can over-ride defaults at pretty much every level.</p>

<p>Note that you can install views specific to Semantic UI with:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rails g kaminari:views semantic-ui
</code></pre></div></div>

<p><strong>Get It:</strong> <a href="https://github.com/amatsuda/kaminari">kaminari on Github</a></p>

<h2 id="seedbank">seedbank</h2>

<p>Seed Bank lets you break your database seeds into multiple files. This lets you do things like:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rake db:seed                    <span class="c"># Load the seed data from db/seeds.rb, db/seeds/*.seeds.rb and db/seeds/ENVIRONMENT/*.seeds.rb. ENVIRONMENT is the current environment in Rails.env.</span>
rake db:seed:bar                <span class="c"># Load the seed data from db/seeds/bar.seeds.rb</span>
rake db:seed:common             <span class="c"># Load the seed data from db/seeds.rb and db/seeds/*.seeds.rb.</span>
rake db:seed:development        <span class="c"># Load the seed data from db/seeds.rb, db/seeds/*.seeds.rb and db/seeds/development/*.seeds.rb.</span>
rake db:seed:development:users  <span class="c"># Load the seed data from db/seeds/development/users.seeds.rb</span>
rake db:seed:original           <span class="c"># Load the seed data from db/seeds.rb</span>
</code></pre></div></div>

<p><strong>Get It:</strong> <a href="https://github.com/james2m/seedbank">seedbank on Github</a></p>

<h2 id="awesome_print">awesome_print</h2>

<p>I rely on print statements a lot when bringing up new code or debugging. It’s just faster for my style of working. AwesomePrint will
print out the object in question all nicely formatted so you can see what’s in there without going blind trying to visually
parse a raw <code class="highlighter-rouge">object.inspect</code> output.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rails</span><span class="o">&gt;</span> <span class="n">ap</span> <span class="no">Account</span>
<span class="k">class</span> <span class="nc">Account</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span> <span class="p">{</span>
                 <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="ss">:integer</span><span class="p">,</span>
            <span class="ss">:user_id</span> <span class="o">=&gt;</span> <span class="ss">:integer</span><span class="p">,</span>
        <span class="ss">:assigned_to</span> <span class="o">=&gt;</span> <span class="ss">:integer</span><span class="p">,</span>
               <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="ss">:string</span><span class="p">,</span>
             <span class="ss">:access</span> <span class="o">=&gt;</span> <span class="ss">:string</span><span class="p">,</span>
            <span class="ss">:website</span> <span class="o">=&gt;</span> <span class="ss">:string</span><span class="p">,</span>
    <span class="ss">:toll_free_phone</span> <span class="o">=&gt;</span> <span class="ss">:string</span><span class="p">,</span>
              <span class="ss">:phone</span> <span class="o">=&gt;</span> <span class="ss">:string</span><span class="p">,</span>
                <span class="ss">:fax</span> <span class="o">=&gt;</span> <span class="ss">:string</span><span class="p">,</span>
         <span class="ss">:deleted_at</span> <span class="o">=&gt;</span> <span class="ss">:datetime</span><span class="p">,</span>
         <span class="ss">:created_at</span> <span class="o">=&gt;</span> <span class="ss">:datetime</span><span class="p">,</span>
         <span class="ss">:updated_at</span> <span class="o">=&gt;</span> <span class="ss">:datetime</span><span class="p">,</span>
              <span class="ss">:email</span> <span class="o">=&gt;</span> <span class="ss">:string</span><span class="p">,</span>
    <span class="ss">:background_info</span> <span class="o">=&gt;</span> <span class="ss">:string</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Get It:</strong> <a href="https://github.com/awesome-print/awesome_print">awesome_print on Github</a></p>

<h2 id="acts-as-taggable-on">acts-as-taggable-on</h2>

<p>If your users will be organizing content in any way, you want tagging. ActsAsTaggableOn is pretty
much the standard Gem for doing this. Tag scopes, user-owned tags, and plenty of options. Even
helpers for building “popular” tags lists.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Add and remove a single tag</span>
<span class="vi">@user</span><span class="p">.</span><span class="nf">tag_list</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="s2">"awesome"</span><span class="p">)</span>   <span class="c1"># add a single tag. alias for &lt;&lt;</span>
<span class="vi">@user</span><span class="p">.</span><span class="nf">tag_list</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="s2">"awesome"</span><span class="p">)</span> <span class="c1"># remove a single tag</span>

<span class="c1"># Add and remove multiple tags in an array</span>
<span class="vi">@user</span><span class="p">.</span><span class="nf">tag_list</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="s2">"awesome"</span><span class="p">,</span> <span class="s2">"slick"</span><span class="p">)</span>
<span class="vi">@user</span><span class="p">.</span><span class="nf">tag_list</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="s2">"awesome"</span><span class="p">,</span> <span class="s2">"slick"</span><span class="p">)</span>
</code></pre></div></div>

<p><strong>Get It:</strong> <a href="https://github.com/mbleigh/acts-as-taggable-on">acts-as-taggable-on on Github</a></p>

<h2 id="high_voltage">high_voltage</h2>

<p>You’re always going to need some static pages. Privacy Policy. About Us. And so on. High Voltage is an easy drop-in engine
to help get those pages rigged in a hurry. If you need something fancier - like ACL on some pages - it’s easy enough to
paste in the example PagesController and tweak it to your liking.</p>

<p><strong>Get It:</strong> <a href="https://github.com/thoughtbot/high_voltage">high_voltage on Github</a></p>

<h2 id="sendgrid">sendgrid</h2>

<p>If your users will be logging in, that means you’ll be sending account confirmations - so you need email. There’s a few
choices for email-send providers, but I’ve found SendGrid to be the best. You can send via SMTP, API, or their “bulk send” API
(for when you’re really pounding out the emails). Why not just use your server’s built-in SMTP? Well, you can do that. But SendGrid
also provides click tracking, delivery confirmations, and email-open tracking. Plus it means you don’t need to spend money
on a server just for sending emails.</p>

<p><strong>Get It:</strong> <a href="https://github.com/stephenb/sendgrid">sendgrid on Github</a></p>

<p><strong>Learn More:</strong> <a href="http://sendgrid.com">http://sendgrid.com</a></p>

<h2 id="paperclip">paperclip</h2>

<p>PaperClip is another go-to Gem that gets a lot of use. If you need files attached to models (like User avatars,
or post images), this is where PaperClip comes in. Once you have it configured, adding a file attachment
to  Model is as simple as a migration and a couple lines of code.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Model</span>
<span class="k">class</span> <span class="nc">User</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">has_attached_file</span> <span class="ss">:avatar</span><span class="p">,</span> <span class="ss">styles: </span><span class="p">{</span> <span class="ss">medium: </span><span class="s2">"300x300&gt;"</span><span class="p">,</span> <span class="ss">thumb: </span><span class="s2">"100x100&gt;"</span> <span class="p">},</span> <span class="ss">default_url: </span><span class="s2">"/images/:style/missing.png"</span>
  <span class="n">validates_attachment_content_type</span> <span class="ss">:avatar</span><span class="p">,</span> <span class="ss">content_type: </span><span class="sr">/\Aimage\/.*\z/</span>
<span class="k">end</span>

<span class="c1"># Migration</span>
<span class="k">class</span> <span class="nc">AddAvatarColumnsToUsers</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Migration</span>
  <span class="k">def</span> <span class="nf">up</span>
    <span class="n">add_attachment</span> <span class="ss">:users</span><span class="p">,</span> <span class="ss">:avatar</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">down</span>
    <span class="n">remove_attachment</span> <span class="ss">:users</span><span class="p">,</span> <span class="ss">:avatar</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="c1"># Edit View</span>
<span class="o">&lt;</span><span class="sx">%= form_for @user, url: users_path, html: { multipart: true } do |form| %&gt;
  &lt;%=</span> <span class="n">form</span><span class="p">.</span><span class="nf">file_field</span> <span class="ss">:avatar</span> <span class="o">%&gt;</span>
<span class="o">&lt;</span><span class="sx">% end </span><span class="o">%&gt;</span>
</code></pre></div></div>

<p><strong>Get It:</strong> <a href="https://github.com/thoughtbot/paperclip">paperclip on Github</a></p>
</div>
        <div class="share-page">
    Share this on &rarr;
    <a href="https://twitter.com/intent/tweet?text=Core Rails Gem Stack&url=http://localhost:4000/2017/01/03/core-rails-stack.html" rel="nofollow" target="_blank" title="Share on Twitter">Twitter</a>
    <a href="https://facebook.com/sharer.php?u=http://localhost:4000/2017/01/03/core-rails-stack.html" rel="nofollow" target="_blank" title="Share on Facebook">Facebook</a>
    <a href="https://plus.google.com/share?url=http://localhost:4000/2017/01/03/core-rails-stack.html" rel="nofollow" target="_blank" title="Share on Google+">Google+</a>
</div>


      </section>
      <footer>
        
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>


  
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      try {
        var pageTracker = _gat._getTracker("UA-145823739-2");
      pageTracker._trackPageview();
      } catch(err) {}
    </script>
  
  </body>
</html>
